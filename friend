typedef struct Adj {
  char id[10];
  struct Adj* next;
} Adj;

typedef struct {
  int color;
  int parent;
  char id[10];
  int n, d, f;
  Adj* first;
  struct Vertex* next;
} Vertex;
void Vertex_init(Vertex* self) {
  self->color = WHITE;
  self->parent = -1;
  strcpy(self->id, "(none)");
  self->n = 0;
  self->first = NULL;
  self->next = NULL;
  self->d = 0;
  self->f = 0;
  Adj* a = (Adj *)malloc(sizeof(Adj));
  strcpy(a->id, "(none)");
  a->next = NULL;
  self->first = a;
}
void vertex_add(Vertex* first,char me[10], char friend[10]){
    Vertex* x = first;
    Adj* y = first->first;
    Adj* z = y;
    if(strcmp(x->id, "(none)")==0) {
        strcpy(x->id, me);
        strcpy(x->first->id, friend);
        first->n += 1;
        Adj* a = (Adj *)malloc(sizeof(Adj));
        strcpy(a->id, "(none)");
        a->next = NULL;
        y->next = a;
    }
    else if(strcmp(x->id, me)==0&&strcmp(y->id, "(none)")!=0) {
        first->n += 1;
        y=y->next;
        for(;strcmp(y->id,"(none)")!=0;) {
            y = y->next;
        }
        strcpy(y->id , friend);
        Adj* a = (Adj *)malloc(sizeof(Adj));
        strcpy(a->id, "(none)");
        a->next = NULL;
        y->next = a;
    }
    else {
        for(;x->next!=NULL&&strcmp(x->id, me)!=0;) {
            x = x->next;
        }
        if (strcmp(x->id, me)==0){
            vertex_add(x, me, friend);
        }
        else if(x->next==NULL) {
            Vertex* a = (Vertex*)malloc(sizeof(Vertex));
            Vertex_init(a);
            x->next = a;
            vertex_add(a, me, friend);
        }
    }
}
int main(void)
{
    FILE* fb;
    fb = fopen("friend.txt","rt");
    if(fb == NULL) return 1;
    Vertex* first;
    first = (Vertex*)malloc(sizeof(Vertex));
    Vertex_init(first);
    while(1) {
        char me[10], friend[10];
        if(fgetc(fb)==EOF) break;
        fseek(fb, -1, SEEK_CUR);
        fscanf(fb, "%s", me);
        fscanf(fb, "%s\n", friend);
        vertex_add(first, me, friend);
    }
    Vertex* a;
    a=first;
    int i, friendn=0, maxFriend, minFriend;
    maxFriend = a->n;
    minFriend = a->n;
    for(i=1;a->next!=NULL;i++) {
        friendn += a->n;
        if(a->n>maxFriend) maxFriend = a->n;
        if(a->n<minFriend) minFriend = a->n;
        a = a->next;
    }
    printf("%f %d %d", (double)friendn/i, minFriend, maxFriend);
    return 0;
}

